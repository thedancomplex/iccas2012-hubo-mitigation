\section{Methodology}

Our proposed process is divided up into two distinct parts, failure state 
determination - Section~\ref{sub:FailureStateDetermination}~~ and mitigation - Section~\ref{sub:mitigationanalysis}~~.  The determination techniques designed to be 
wide in scope.  The midigation techniques are tailured towards adult-size
humanoid robots, specifically the Hubo platforms described in Section~\ref{sec:platform}.

 
\subsection{Platform}\label{sec:platform}
The robots that will be used in these experiments are the adult-size 
humanoid robots Jaemi Hubo and Hubo2+, see Fig.~\ref{fig:huboSch}.  
Each Hubo contains 40 degrees of freedom (DOF) and stands at a height of 130cm.
Each actuator has a high gain internal PID position control loop.  Reference positions are
commanded at 100hz over a half-duplex 1.0Mbps controlled area network (CAN).
Each actuator can feed back actual position, current through the actuator, and the actuator status 
(enabled or disabled).  Other metrics that are fed back are described in 
Table~\ref{table:states}.  

Currently we have direct access to seven Hubo's in total, six Hubo2+ and one Hubo2 (Jaemi Hubo).
Two of these robots will be used in these experiments for initial testing.




\subsection{Failure State Determination}\label{sub:FailureStateDetermination}




\subsection{Mitigation Analysis}\label{sub:mitigationanalysis}
The effectiveness of different mitigations has been analyzed on faults injected into two different systems typically used as benchmark applications in the software engineering community, RUBiS\footnote{http://rubis.ow2.org/} and Hadoop\footnote{http://hadoop.apache.org/}. RUBiS is a web application auction site running on the Apache Tomcat\footnote{http://tomcat.apache.org/} web server and serves page requests to hundreds of concurrently simulated clients. Hadoop is a distributed task manager that processes gigabytes of data across multiple nodes. We injected faults into both systems, the virtual machines they are running on, as well as the hosts managing the virtual machines. The faults consumed either processor, memory, disk, database, or network resources in the respective components. We applied generic mitigations that restarted various components, migrated the components to new hosts or virtual machines, or did nothing. The effectiveness of each fault-mitigation pair was analyzed on each system to generate a mapping of faults to mitigations. Using this knowledge, if a fault is later encountered, the best mitigation can be applied with a high chance of success. If a particular mitigation cannot be applied in that instance, then the next best mitigation may be selected, and so forth.

% When an anomaly occurs, multiple mitigations may be triggered at once. For instance, if a hardware failure is detected on a host, all process should be migrated to another machine and diagnostic utilities should be run on the machine.

A naive observer would expect the two systems to have nearly identical fault-mitigation mappings. However, in our testing on software based systems the generated mappings varied greatly in the effectiveness of the mitigations on a particular fault.  RUBiS is a typical web application that receives requests from clients and processes results returned from a database. Little processing is being done by RUBiS or its host machine, so even though a processor intensive fault may be using up many cycles in the process or the host, there is no noticeable effect on the request processing rate. As a result, any mitigation applied would result in more down time than if no mitigation were to be applied. Unlike RUBiS, Hadoop is much more processor intensive. Any host level fault that is slowing down the system will adversely affect the completion time for the task. Another major difference is that RUBiS, like many other request driven systems, can easily be restarted to temporarily address fault symptoms, while restarting Hadoop typically means losing already processed results.  We expect similar results when applying this method to the complex electro-mechanical platforms Jaemi Hubo/Hubo2+.

The generated fault-mitigation mappings for the two systems offer insight into their respective natures. On the surface, both software systems operate like typical servers, waiting for requests or tasks, and processing them in a timely fashion. However, the way the requests are handled results in faults manifesting in different ways. Even though a fault may be detected, the obvious mitigation is not always the best. This approach to mitigation analysis, will offer valuable insight into the true effectiveness of mitigations when faults occur in Hubo.




\subsection{none}











